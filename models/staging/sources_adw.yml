version: 2

sources:
  # =====================================================
  # SALES
  # =====================================================
  - name: adw_sales
    database: fea_academy
    schema: adventure_works
    description: "Dados transacionais de vendas da Adventure Works"
    tables:

      - name: sales_salesorderheader
        description: "Cabeçalho dos pedidos de venda"
        columns:
          - name: salesorderid
            description: "Identificador único do pedido"
            tests:
              - not_null
              - unique
          - name: territoryid
            description: "Identificador único do território"
            tests:
              - not_null
          - name: creditcardid
            description: "Identificador do cartão de crédito"
          - name: orderdate
            description: "Data do pedido"
            tests:
              - not_null
          - name: duedate
            description: "Data de vencimento do pedido"
            tests:
              - not_null
          - name: shipdate
            description: "Data de envio do pedido"
            tests:
              - not_null
          - name: status
            description: "Status do pedido"
            tests:
              - not_null
          - name: subtotal
            description: "Subtotal do pedido"
            tests:
              - not_null
          - name: taxamt
            description: "Taxas do pedido pagas pelo cliente"
            tests:
              - not_null
          - name: freight
            description: "Frete do pedido"
            tests:
              - not_null
          - name: totaldue
            description: "Total devido pelo cliente"
            tests:
              - not_null
          - name: modifieddate
            description: "Data de modificação do pedido"
            tests:
              - not_null

      - name: sales_salesorderdetail
        description: "Itens dos pedidos de venda"
        columns:
          - name: salesorderdetailid
            description: "Identificador do item do pedido"
            tests:
              - not_null
              - unique
          - name: salesorderid
            description: "Identificador do pedido"
            tests:
              - not_null
          - name: productid
            description: "Identificador do produto"
            tests:
              - not_null
          - name: orderqty
            description: "Quantidade comprada do produto"
            tests:
              - not_null
          - name: unitprice
            description: "Preço unitário do produto"
            tests:
              - not_null
          - name: uitpricediscount
            description: "Desconto unitário do produto"
          - name: modifieddate
            description: "Data de modificação do pedido"
            tests:
              - not_null

      - name: sales_creditcard
        description: "Dados do cartão de crédito"
        columns:
          - name: creditcardid
            description: "Identificador do cartão de crédito"
            tests:
              - not_null
              - unique
          - name: cardtype
            description: "Tipo do cartão de crédito"
            tests:
              - not_null
          - name: cardnumber
            description: "Número do cartão de crédito"
            tests:
              - not_null

      - name: sales_personcreditcard
        description: "Tipos de cartão utilizados pelo cliente para compra"
        columns:
          - name: businessentityid
            description: "Identificador do cliente/dono do cartão"
            tests:
              - not_null
          - name: creditcardid
            description: "Identificador do cartão de crédito"
            tests:
              - not_null

      - name: sales_salesreason
        description: "Motivos de venda"
        columns:
          - name: salesreasonid
            description: "Identificador do motivo"
            tests:
              - not_null
              - unique
          - name: name
            description: "Nome do motivo"
            tests:
              - not_null
          - name: reasontype
            description: "Tipo de motivo"
            tests:
              - not_null

      - name: sales_salesorderheadersalesreason
        description: "Relacionamento pedido x motivo"
        columns:
          - name: salesorderid
            description: "Identificador do Pedido"
            tests:
              - not_null
          - name: salesreasonid
            description: "Identificador do Motivo do Pedido"
            tests:
              - not_null

      - name: sales_salesterritory
        description: "Território do Cliente"
        columns:
          - name: territoryid
            description: "Identificador do território do cliente"
            tests:
              - not_null
              - unique
          - name: name
            description: "Nome do Território do Cliente"
            tests:
              - not_null
          - name: countryregioncode
            description: "Código da Região do País do Cliente"
            tests:
              - not_null
          - name: group
            description: "Código do Grupo da Região do Cliente"
            tests:
              - not_null

# =====================================================
  # PRODUCTION
  # =====================================================
  - name: adw_production
    database: fea_academy
    schema: adventure_works
    description: "Dados de produtos"
    tables:

      - name: production_product
        description: "Cadastro de produtos"
        columns:
          - name: productid
            description: "Identificador do produto"
            tests:
              - not_null
              - unique
          - name: productsubcategoryid
            description: "Identificador da subcategoria do produto"
          - name: name
            description: "Nome do produto"
            tests:
              - not_null
          - name: productnumber
            description: "Número do produto"
            tests:
              - not_null
          - name: color
            description: "Nome do produto"
          - name: safetystocklevel
            description: "Nivel de segurança de produto em estoque"
            tests:
              - not_null
          - name: reorderpoint
            description: "Ponto de reabastecimento do estoque"
            tests:
              - not_null
          - name: standardcost
            description: "Custo padrão do produto"
            tests:
              - not_null
          - name: listprice
            description: "Preço de lista do produto"
            tests:
              - not_null
          - name: sellstartdate
            description: "Data de início da venda do produto"
          - name: sellenddate
            description: "Data de início da venda do produto"

      - name: production_productcategory
        description: "Categoria dos produtos"
        columns:
          - name: productcategoryid
            description: "Identificador da categoria do produto"
            tests:
              - not_null
              - unique
          - name: name
            description: "Nome da categoria do produto"
            tests:
              - not_null

      - name: production_productsubcategory
        description: "Subcategoria dos produtos"
        columns:
          - name: productsubcategoryid
            description: "Identificador da subcategoria do produto"
            tests:
              - not_null
              - unique
          - name: productcategoryid
            description: "Identificador da categoria do produto"
            tests:
              - not_null
          - name: name
            description: "Nome da subcategoria da produto"
            tests:
              - not_null

      - name: production_location
        description: "Local de produção do produto"
        columns:
          - name: locationid
            description: "Identificador do local de produção do produto"
            tests:
              - not_null
              - unique
          - name: name
            description: "Nome do local de produção do produto"
            tests:
              - not_null

      - name: production_productinventory
        description: "Inventário de Produção do Produto"
        columns:
          - name: productid
            description: "Identificador do produto"
            tests:
              - not_null
          - name: locationid
            description: "Identificador do local de produção do produto"
            tests:
              - not_null
          - name: shelf
            description: "Prateleira do local de produção do produto"
          - name: quantity
            description: "Quantidade de produção do produto"
            tests:
              - not_null
              
# =====================================================
  # PERSON
  # =====================================================
  - name: adw_person
    database: fea_academy
    schema: adventure_works
    description: "Dados de pessoas e localização"
    tables:

      - name: person_person
        description: "Cadastro de pessoas"
        columns:
          - name: businessentityid
            description: "Identificador da Pessoa"
            tests:
              - not_null
              - unique
          - name: firstname
            description: "Primeiro nome da pessoa"
            tests:
              - not_null
          - name: lastname
            description: "Sobrenome da pessoa"
            tests:
              - not_null

      - name: person_businessentityaddress
        description: "Endereço vinculado à Pessoa"
        columns:
          - name: businessentityid
            description: "Identificador da Pessoa"
            tests:
              - not_null
          - name: addressid
            description: "Identificador do endereço da pessoa"
            tests:
              - not_null

      - name: person_emailaddress
        description: "Endereço de Email das pessoas"
        columns:
          - name: emailaddressid
            description: "Identificador do email da pessoa"
            tests:
              - not_null
              - unique
          - name: businessentityid
            description: "Identificador da Pessoa"
            tests:
              - not_null
          - name: emailaddress
            description: "Email da pessoa"
            tests:
              - not_null

      - name: person_personphone
        description: "Telefones da pessoa"
        columns:
          - name: businessentityid
            description: "Identificador da pessoa"
            tests:
              - not_null
          - name: phonenumber
            description: "Número de Telefone da pessoa"
            tests:
              - not_null

      - name: person_address
        description: "Endereço das pessoas"
        columns:
          - name: addressid
            description: "Identificador do endereço da pessoa"
            tests:
              - not_null
              - unique
          - name: stateprovinceid
            description: "Estado da pessoa"
            tests:
              - not_null
          - name: addressline1
            description: "Local de endereço da pessoa"
            tests:
              - not_null
          - name: city
            description: "Cidade da pessoa"
            tests:
              - not_null
          - name: postalcode
            description: "CEP da Cidade da pessoa"
            tests:
              - not_null

      - name: person_stateprovince
        description: "Estado das Pessoas"
        columns:
          - name: stateprovinceid
            description: "Identificador do estado da pessoa"
            tests:
              - not_null
              - unique
          - name: terrytoryid
            description: "Identificador do território da pessoa"
          - name: stateprovincecode
            description: "Código do estado da pessoa"
            tests:
              - not_null
          - name: name
            description: "Nome do estado da pessoa"
            tests:
              - not_null
          - name: countryregioncode
            description: "Código do país da pessoa"

      - name: person_countryregion
        description: "Países"
        columns:
          - name: countryregioncode
            description: "Código do país da pessoa"
            tests:
              - unique
          - name: name
            description: "Nome do país da pessoa"
            tests:
              - not_null